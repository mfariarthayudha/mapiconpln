<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="description" content="" />
		<meta name="author" content="" />
		<!-- <link rel="icon" href="../images/favicon.ico"> -->

		<title>Monitoring PA - MAPIconPLN</title>

		<!-- Vendors Style-->
		<link rel="stylesheet" href="/sunny-admin/css/vendors_css.css" />

		<!-- Style-->
		<link rel="stylesheet" href="/sunny-admin/css/style.css" />
		<link rel="stylesheet" href="/sunny-admin/css/skin_color.css" />
	</head>

	<body class="hold-transition light-skin sidebar-mini theme-primary">
		<div class="wrapper">
			<header class="main-header">
				<nav class="navbar navbar-static-top pl-30">
					<!-- Sidebar toggle button-->
					<div>
						<ul class="nav">
							<li class="btn-group nav-item">
								<a href="#" class="waves-effect waves-light nav-link rounded svg-bt-icon" data-toggle="push-menu" role="button">
									<i class="nav-link-icon mdi mdi-menu"></i>
								</a>
							</li>
						</ul>
					</div>

					<div class="navbar-custom-menu r-side">
						<ul class="nav navbar-nav">
							<li class="dropdown user user-menu">
								<a href="#" class="waves-effect waves-light rounded dropdown-toggle p-0" data-toggle="dropdown" title="User">
									<img src="/images/default-profile-picture.png" />
								</a>
								<ul class="dropdown-menu animated flipInX">
									<li class="user-body">
										<a class="dropdown-item" href="<%= `${baseUrl}/api/authentication/logout` %>"><i class="ti-lock text-muted mr-2"></i> Logout</a>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</nav>
			</header>

			<aside class="main-sidebar">
				<!-- sidebar-->
				<section class="sidebar">
					<div class="user-profile">
						<div class="ulogo">
							<a href="dashboard.html">
								<!-- logo for regular state and mobile devices -->
								<div class="d-flex align-items-center justify-content-center">
									<!-- <img src="../images/logo-dark.png" alt=""> -->
									<h3><b>MAP</b>IconPLN</h3>
								</div>
							</a>
						</div>
					</div>

					<!-- sidebar menu-->
					<ul class="sidebar-menu" data-widget="tree">
						<li>
							<a href="<%= `${baseUrl}` %>">
								<i data-feather="pie-chart"></i>
								<span>Dashboard</span>
							</a>
						</li>

						<li class="header nav-small-cap">Main Menu</li>

						<li>
							<a href="<%= `${baseUrl}/update-pa` %>">
								<i data-feather="edit"></i>
								<span>Update PA</span>
							</a>
						</li>

						<li class="active">
							<a href="<%= `${baseUrl}/monitoring-pa` %>">
								<i data-feather="database"></i>
								<span>Monitoring PA</span>
							</a>
						</li>
					</ul>
				</section>
			</aside>

			<!-- Content Wrapper. Contains page content -->
			<div class="content-wrapper">
				<div class="container-full">
					<!-- Content Header (Page header) -->
					<div class="content-header">
						<div class="d-flex align-items-center">
							<div class="mr-auto">
								<h3 class="page-title">MAPIconPLN</h3>
								<div class="d-inline-block align-items-center">
									<nav>
										<ol class="breadcrumb">
											<li class="breadcrumb-item">
												<a href="<%= baseUrl %>"><i class="mdi mdi-home-outline"></i></a>
											</li>
											<li class="breadcrumb-item active" aria-current="page">Monitoring PA</li>
										</ol>
									</nav>
								</div>
							</div>
						</div>
					</div>

					<!-- Main content -->
					<section class="content">
						<div class="row">
							<div class="col-12">
								<div class="box">
									<div class="box-header with-border">
										<h3 class="box-title">Daftar PA</h3>
									</div>
									<!-- /.box-header -->
									<div class="box-body">
										<div class="table-responsive">
											<table id="example1" class="table table-bordered table-striped" style="width: 100%">
												<thead>
													<tr>
														<th>No</th>
														<th>ID PA</th>
														<th>Tanggal Terbit PA</th>
														<th>Customer</th>
														<th>Lokasi</th>
														<th>Layanan</th>
														<th>Bandwith (Mbps)</th>
														<th>Foto Briefing K3</th>
														<th>Panjang Tarikan (m)</th>
														<th>Progress Tarikan</th>
														<th>Jumlah JB</th>
														<th>Tracing Core</th>
														<th>Testcom</th>
														<th>Upload Testcom</th>
														<th>BAI User</th>
														<th>Upload BAI</th>
														<th>Tanggal BAI</th>
														<th>Kendala</th>
														<th>Aging</th>
													</tr>
												</thead>
												<tbody id="pa-table-body">
													<tr>
														<td>#</td>
														<td><input type="text" id="search-id-pa-input" class="column-search table-search-input" placeholder="Cari ID PA" /></td>
														<td><input type="text" id="tanggal-terbit-pa-input" class="column-search table-search-input" placeholder="Cari Tanggal Terbit PA" /></td>
														<td><input type="text" id="customer-input" class="column-search table-search-input" placeholder="Cari Customer" /></td>
														<td><input type="text" id="lokasi-input" class="column-search table-search-input" placeholder="Cari Lokasi" /></td>
														<td><input type="text" id="layanan-input" class="column-search table-search-input" placeholder="Cari Layanan" /></td>
														<td>.</td>
														<td>.</td>
														<td>.</td>
														<td>.</td>
														<td>.</td>
														<td>.</td>
														<td>.</td>
														<td>.</td>
														<td>.</td>
														<td>.</td>
														<td>.</td>
														<td>.</td>
														<td>.</td>
													</tr>

													<% pa.forEach((pa, index) => { %>
													<tr>
														<td><%= index + 1 %></td>
														<td><%= pa.id_pa %></td>
														<td><%= pa.tanggal_terbit_pa %></td>
														<td><%= pa.customer %></td>
														<td><%= pa.lokasi %></td>
														<td><%= pa.layanan %></td>
														<td><%= pa.bandwidth %></td>
														<td>
															<% if (pa.foto_briefing_k3 != null) { %>
															<a href="<%= `${baseUrl}/uploaded-files/${pa.fotoBriefingK3}` %>" target="_blank">Lihat</a>
															<% } %>
														</td>
														<td><%= pa.panjang_tarikan %></td>
														<td><%= pa.progres_tarikan %></td>
														<td><%= pa.jumlah_jb %></td>
														<td><%= pa.tracing_core %></td>
														<td><%= pa.testcom %></td>
														<td>
															<% if (pa.file_testcom != null) { %>
															<a href="<%= `${baseUrl}/uploaded-files/${pa.fileTestcom}` %>" target="_blank">Lihat</a>
															<% } %>
														</td>
														<td><%= pa.bai_user %></td>
														<td>
															<% if (pa.file_bai_bakl != null) { %>
															<a href="<%= `${baseUrl}/uploaded-files/${pa.fileBaiBakl}` %>" target="_blank">Lihat</a>
															<% } %>
														</td>
														<td><%= pa.tanggal_bai %></td>
														<td><%= pa.kendala %></td>
														<td><%= pa.aging %></td>
													</tr>
													<% }) %>
												</tbody>
											</table>
										</div>
									</div>
									<!-- /.box-body -->
								</div>
								<!-- /.box -->
							</div>

							<!-- /.col -->
						</div>

						<!-- /.row -->
					</section>
					<!-- /.content -->
				</div>
			</div>
			<!-- /.content-wrapper -->
		</div>
		<!-- ./wrapper -->

		<!-- Vendor JS -->
		<script src="/sunny-admin/js/vendors.min.js"></script>
		<script src="/sunny-admin/assets/icons/feather-icons/feather.min.js"></script>
		<script src="/sunny-admin/assets/vendor_components/datatable/datatables.min.js"></script>
		<!-- <script src="js/pages/data-table.js"></script> -->

		<!-- Sunny Admin App -->
		<script src="/sunny-admin/js/template.js"></script>

		<script src="/axios/axios.min.js"></script>
		<script src="/jquery/jquery.min.js"></script>

		<script src="/javascript/main.js"></script>
		<script src="/javascript/monitoring-pa.js"></script>
		<script>
			$(document).ready(function () {
				var table = $("#example1").DataTable({
					paging: true,
					lengthChange: true,
					searching: true, // Disable global search bar for now
					ordering: true,
					info: true,
					autoWidth: false,
				})

				// // Create a row for search inputs
				// var $searchRow = $('<tr id="searchRow"></tr>')

				// // Add empty cells for each column
				// $("#example1 thead th").each(function () {
				// 	var headerText = $(this).text().trim()
				// 	$searchRow.append('<td><input type="text" class="column-search" placeholder="Search ' + headerText + '" /></td>')
				// })

				// // Append the search row just after the table header
				// $("#example1 thead").after($searchRow)

				// // Apply the search function on keyup event for each input
				// $(".column-search").on("keyup change", function () {
				// 	var columnIndex = $(this).closest("td").index()
				// 	table.column(columnIndex).search(this.value).draw()
				// })

				// // Enable individual column search
				// table.columns().every(function () {
				// 	var that = this

				// 	$("input", this.footer()).on("keyup change", function () {
				// 		if (that.search() !== this.value) {
				// 			that.search(this.value).draw()
				// 		}
				// 	})
				// })
			})
		</script>
	</body>
</html>
